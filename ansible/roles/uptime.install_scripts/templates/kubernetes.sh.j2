#!/bin/bash

set -eux

cd /tmp


## Install and configure git

sudo apt-get update
sudo apt install -y git
git config --global user.name stagiaire
git config --global user.email stagiaire@email.example


## Install and configure kubectl
sudo snap install kubectl --classic

sudo apt install -y bash-completion
source <(kubectl completion bash)
echo "source <(kubectl completion bash)" >> ${HOME}/.bashrc


## Install minikube
curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube_latest_amd64.deb
sudo dpkg -i minikube_latest_amd64.deb

minikube start --driver=docker

## Install Lens
curl -LO https://api.k8slens.dev/binaries/Lens-5.3.3-latest.20211214.2.amd64.deb
sudo dpkg -i Lens-5.3.3-latest.20211214.2.amd64.deb 